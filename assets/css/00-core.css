/* ==========================================================================
   00-core.css
   Media Site Gen 2: Core platform styles
   Purpose: design tokens,foundations, shared UI systems, layout primitives
   Rules:
   - Platform-owned only
   - No section selectors (no 30-Section BEM blocks)
   - No customer branding values (variables only)
   ========================================================================== */

/* ==========================================================================
   0) Design tokens (platform defaults)
   ========================================================================== */

:root {
  /* Typography */
  --font-sans: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial,
    "Apple Color Emoji", "Segoe UI Emoji";
  --font-mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;

  --text-xs: 0.75rem;
  --text-sm: 0.875rem;
  --text-md: 1rem;
  --text-lg: 1.125rem;
  --text-xl: 1.25rem;
  --text-2xl: 1.5rem;

  --leading-tight: 1.2;
  --leading-normal: 1.5;
  --leading-loose: 1.7;

  --weight-regular: 500;
  --weight-medium: 600;
  --weight-bold: 700;

  /* Heading sizes */
  --h1: 2.25rem;
  --h2: 1.5rem;
  --h3: 1.25rem;
  --h4: 1.125rem;
  --h5: 1rem;
  --h6: 0.875rem;

  /* Body text */
  --p: 1rem;
  --p-sm: 0.875rem;

  /* Readable line length */
  --measure: 70ch;

  /* Spacing */
  --space-0: 0;
  --space-1: 0.25rem;
  --space-2: 0.5rem;
  --space-3: 0.75rem;
  --space-4: 1rem;
  --space-5: 1.25rem;
  --space-6: 1.5rem;
  --space-8: 2rem;
  --space-10: 2.5rem;
  --space-12: 3rem;

  /* Radii */
  --radius-xs: 0.25rem;
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-pill: 999px;

  /* Borders */
  --border-1: 1px solid var(--border);
  --border-2: 2px solid var(--border);

  /* Shadows */
  --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 8px 24px rgba(0, 0, 0, 0.14);
  --shadow-lg: 0 16px 48px rgba(0, 0, 0, 0.18);

  /* Motion */
  --ease-standard: cubic-bezier(0.2, 0, 0, 1);
  --dur-1: 120ms;
  --dur-2: 180ms;
  --dur-3: 260ms;

  /* Layout */
  --container-max: 1440px;
  --container-pad: 1rem;

  /* Core palette (platform defaults only) */
  --c-bg: #f7f7f8;
  --c-surface: #ffffff;
  --c-surface-2: #f1f2f4;
  --c-text: #1a1d21;
  --c-text-muted: #5b636d;
  --c-border: #d7dbe0;

  --c-primary: #165dff;
  --c-primary-hover: #0f4fe0;
  --c-on-primary: #ffffff;

  --c-danger: #c93636;
  --c-warning: #b25b00;
  --c-success: #1b7f3a;
  --c-info: #0a66c2;

  /* Focus ring */
  --c-focus: rgba(22, 93, 255, 0.35);

  /* Form control sizing */
  --control-h: 2.5rem;
  --control-pad-x: 0.875rem;
  --control-pad-y: 0.625rem;

  /* Aside and drawer sizing (can be overridden by layout attrs) */
  --sidebar-w: 320px;
  --left-w: 260px;
  --right-w: 320px;
  --drawer-w: 360px;

  /* Menu */
  --menu-gap: var(--space-2);
}

/* Responsive type scaling */
@media (max-width: 40rem) {
  :root {
    --h1: 1.875rem;
    --h2: 1.5rem;
    --h3: 1.25rem;
  }
}

/* ==========================================================================
   0.5) color themes (semantic surface + text roles)
   Usage: apply .theme--* to any container to change its context.
   Notes:
   - These map your raw --c-* tokens to role variables used by components.
   - Default values live in :root and match the current platform look.
   ========================================================================== */

/* Base (default) theme */
:root,
.theme--base {
  --surface-1: var(--c-bg);
  --surface-2: var(--c-surface-2);
  --surface: var(--c-surface);

  --text: var(--c-text);
  --text-muted: var(--c-text-muted);
  --text-strong: var(--c-text);

  --border: var(--c-border);

  --link: var(--c-primary);
  --link-hover: var(--c-primary-hover);

  --focus: var(--c-focus);
}

/* Emphasis (high contrast, typically dark/brand surface with light text) */
.theme--emphasis {
  --surface-1: var(--c-primary);
  --surface-2: var(--c-primary);
  --surface: var(--c-primary);

  --text: var(--c-on-primary);
  --text-muted: rgba(255, 255, 255, 0.85);
  --text-strong: var(--c-on-primary);

  --border: rgba(255, 255, 255, 0.22);

  --link: var(--c-on-primary);
  --link-hover: rgba(255, 255, 255, 0.88);

  --focus: rgba(255, 255, 255, 0.35);
}

/* Primary (brand context, light surfaces tinted by brand) */
.theme--primary {
  --surface-1: color-mix(in srgb, var(--c-primary) 10%, white);
  --surface-2: color-mix(in srgb, var(--c-primary) 16%, white);
  --surface: #ffffff;

  --text: var(--c-text);
  --text-muted: var(--c-text-muted);
  --text-strong: var(--c-text);

  --border: color-mix(in srgb, var(--c-primary) 20%, var(--c-border));

  --link: var(--c-primary);
  --link-hover: var(--c-primary-hover);

  --focus: var(--c-focus);
}

/* Status themes (light surfaces tinted by status color) */
.theme--success {
  --surface-1: color-mix(in srgb, var(--c-success) 10%, white);
  --surface-2: color-mix(in srgb, var(--c-success) 16%, white);
  --surface: #ffffff;

  --text: var(--c-text);
  --text-muted: var(--c-text-muted);
  --text-strong: var(--c-text);

  --border: color-mix(in srgb, var(--c-success) 18%, var(--c-border));

  --link: var(--c-success);
  --link-hover: color-mix(in srgb, var(--c-success) 85%, black);

  --focus: color-mix(in srgb, var(--c-success) 35%, transparent);
}

.theme--warning {
  --surface-1: color-mix(in srgb, var(--c-warning) 10%, white);
  --surface-2: color-mix(in srgb, var(--c-warning) 16%, white);
  --surface: #ffffff;

  --text: var(--c-text);
  --text-muted: var(--c-text-muted);
  --text-strong: var(--c-text);

  --border: color-mix(in srgb, var(--c-warning) 18%, var(--c-border));

  --link: var(--c-warning);
  --link-hover: color-mix(in srgb, var(--c-warning) 85%, black);

  --focus: color-mix(in srgb, var(--c-warning) 35%, transparent);
}

.theme--danger {
  --surface-1: color-mix(in srgb, var(--c-danger) 10%, white);
  --surface-2: color-mix(in srgb, var(--c-danger) 16%, white);
  --surface: #ffffff;

  --text: var(--c-text);
  --text-muted: var(--c-text-muted);
  --text-strong: var(--c-text);

  --border: color-mix(in srgb, var(--c-danger) 18%, var(--c-border));

  --link: var(--c-danger);
  --link-hover: color-mix(in srgb, var(--c-danger) 85%, black);

  --focus: color-mix(in srgb, var(--c-danger) 35%, transparent);
}

.theme--info {
  --surface-1: color-mix(in srgb, var(--c-info) 10%, white);
  --surface-2: color-mix(in srgb, var(--c-info) 16%, white);
  --surface: #ffffff;

  --text: var(--c-text);
  --text-muted: var(--c-text-muted);
  --text-strong: var(--c-text);

  --border: color-mix(in srgb, var(--c-info) 18%, var(--c-border));

  --link: var(--c-info);
  --link-hover: color-mix(in srgb, var(--c-info) 85%, black);

  --focus: color-mix(in srgb, var(--c-info) 35%, transparent);
}

/* Optional helper: apply theme surface + text to a container */
.ui-surface {
  background: var(--surface-1);
  color: var(--text);
}

/* ==========================================================================
   1) Reset and base elements
   ========================================================================== */

*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  -webkit-text-size-adjust: 100%;
  text-size-adjust: 100%;
  scrollbar-gutter: stable;
}

body {
  margin: 0;
  font-family: var(--font-sans);
  font-size: var(--text-md);
  line-height: var(--leading-normal);
  color: var(--text);
  background: var(--surface-1);
}

img,
svg,
video {
  max-width: 100%;
  height: auto;
  display: block;
}

button,
input,
select,
textarea {
  font: inherit;
  color: inherit;
}

a {
  color: var(--link);
  text-decoration: underline;
  text-underline-offset: 2px;
}

a:hover {
  color: var(--link-hover);
}

button,
a {
  transition: all var(--dur-3) var(--ease-standard);
}

:focus-visible {
  outline: none;
  box-shadow: 0 0 0 3px var(--focus);
  border-radius: var(--radius-xs);
}

@media (prefers-reduced-motion: reduce) {

  *,
  *::before,
  *::after {
    scroll-behaviour: auto !important;
    transition-duration: 1ms !important;
    animation-duration: 1ms !important;
  }
}

ul,
ol {
  margin: 0;
  padding: 0;
}

ul {
  list-style: none;
}

.list--standard {
  list-style: disc;
  padding-left: 1.25rem;
  /* restores indentation */
  margin: 1rem 0;
}

.list--standard>li {
  margin: 0.25rem 0;
}

ol {
  list-style-position: inside;
}

figure {
  margin-block-start: 1em;
  margin-block-end: 1em;
  margin-inline-start: 0px;
  margin-inline-end: 0px;
}

/* ==========================================================================
   1.x Typography (core)
   ========================================================================== */

h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0;
  font-weight: 500;
  line-height: var(--leading-tight);
  letter-spacing: -0.01em;
}

h1 {
  font-size: var(--h1);
  font-weight: var(--weight-medium);
}

h2 {
  font-size: var(--h2);
}

h3 {
  font-size: var(--h3);
}

h4 {
  font-size: var(--h4);
}

h5 {
  font-size: var(--h5);
}

h6 {
  font-size: var(--h6);
}

p {
  margin: 0;
  font-size: var(--p);
  line-height: var(--leading-normal);
}

small {
  font-size: var(--text-sm);
  color: var(--text-muted);
}

strong {
  font-weight: var(--weight-bold);
}

em {
  font-style: italic;
}

ul,
ol {
  margin: 0;
  padding-left: 0;
}

li {
  line-height: var(--leading-normal);
}

hr {
  border: none;
  border-top: var(--border-1);
  margin: var(--space-6) 0;
}

code,
pre,
kbd,
samp {
  font-family: var(--font-mono);
}

code {
  font-size: 0.92em;
  background: rgba(0, 0, 0, 0.06);
  padding: 0.15em 0.35em;
  border-radius: var(--radius-sm);
}

pre {
  margin: 0;
  padding: var(--space-4);
  border-radius: var(--radius-lg);
  border: var(--border-1) solid var(--border);
  background: var(--surface);
  overflow: auto;
  box-shadow: var(--shadow-sm);
}

pre code {
  background: transparent;
  padding: 0;
  border-radius: 0;
}

blockquote {
  margin: 0;
  padding: var(--space-4) var(--space-5);
  border-left: 4px solid var(--border);
  background: var(--surface);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-sm);
  color: var(--text);
}

blockquote p {
  color: var(--text-muted);
}

/* ==========================================================================
   2) Layout primitives (core)
   ========================================================================== */

/* Containers */
.container {
  margin-left: auto;
  margin-right: auto;
  padding-left: var(--space-8);
  padding-right: var(--space-8);
}

.container--content {
  max-width: 60rem;
  /* typical single-column reading width */
}

.container--wide {
  max-width: var(--container-max);
  /* typical site max width */
}

.container--content>* {
  margin-bottom: var(--space-8);
}

.container--content>*:first-child {
  margin-top: var(--space-6);
}

/* Layout: Edge-aligned side navigation */

.layout__sidebar {
  overflow: auto;
  /* sidebar scrolls */
  min-height: 0;
  /* important for nested scrolling */
  border-right: 1px solid var(--base-03);
}

.layout--sidebar-edge {
  display: grid;
  grid-template-columns: 1fr;
  /* mobile */
  height: 100vh;
  /* full viewport height */
  overflow: hidden;
}

@media (min-width: 64rem) {
  .layout--sidebar-edge {
    grid-template-columns: var(--sidebar-width, 18rem) 1fr;
    align-items: start;
  }
}

.layout__sidebar--edge {
  background-color: var(--surface-2);
  /*border-right: 1px solid var(--border);*/
  padding: 1rem;
}

@media (min-width: 64rem) {
  .layout__sidebar--edge {
    position: sticky;
    top: var(--header-height, 0);
    height: 100%;
    overflow-y: auto;
    border-right: var(--border-1);
  }
}

.layout--sidebar-edge .layout__main {
  overflow: auto;
  /* main scrolls */
  min-height: 0;
  /* important for nested scrolling */
  min-width: 0;
  /* prevents content from forcing overflow */
  overflow-y: auto;
  height: 100vh;
}

/* Grids: 2-column, 3-column, 4-column */
:root {
  /* Fixed column counts */
  --grid-cols-1: 1;
  --grid-cols-2: 2;
  --grid-cols-3: 3;
  --grid-cols-4: 4;
  --grid-cols-5: 5;
  --grid-cols-6: 6;

  /* Auto grid minimum column width */
  --grid-auto-min: 16rem;
}

.grid {
  display: grid;
  gap: 1rem;
  /* single explicit gap */
  min-width: 0;
}


.grid--auto {
  grid-template-columns: repeat(auto-fit,
      minmax(min(100%, var(--grid-auto-min)), 1fr));
}

.grid--cols {
  grid-template-columns: repeat(var(--grid-cols), minmax(0, 1fr));
}

.grid--1,
.grid--2,
.grid--3,
.grid--4,
.grid--5,
.grid--6 {
  --grid-cols: var(--grid-cols-1);
}

@media (min-width: 640px) {
  .grid--2 {
    --grid-cols: var(--grid-cols-2);
  }

  .grid--3 {
    --grid-cols: var(--grid-cols-3);
  }

  .grid--4 {
    --grid-cols: var(--grid-cols-2);
  }

  .grid--5 {
    --grid-cols: var(--grid-cols-2);
  }

  .grid--6 {
    --grid-cols: var(--grid-cols-2);
  }
}

@media (min-width: 1024px) {
  .grid--4 {
    --grid-cols: var(--grid-cols-4);
  }

  .grid--5 {
    --grid-cols: var(--grid-cols-5);
  }

  .grid--6 {
    --grid-cols: var(--grid-cols-6);
  }
}

@media (min-width: 1024px) {
  .layout--sidebar-edge .grid--2 {
    --grid-cols: var(--grid-cols-2);
  }

  .layout--sidebar-edge .grid--3 {
    --grid-cols: var(--grid-cols-2);
  }

  .layout--sidebar-edge .grid--4 {
    --grid-cols: var(--grid-cols-2);
  }

  .layout--sidebar-edge .grid--5 {
    --grid-cols: var(--grid-cols-2);
  }

  .layout--sidebar-edge .grid--6 {
    --grid-cols: var(--grid-cols-2);
  }
}

@media (min-width: 1280px) {
  .layout--sidebar-edge .grid--3 {
    --grid-cols: var(--grid-cols-3);
  }

  .layout--sidebar-edge .grid--4 {
    --grid-cols: var(--grid-cols-4);
  }

  .layout--sidebar-edge .grid--5 {
    --grid-cols: var(--grid-cols-5);
  }

  .layout--sidebar-edge .grid--6 {
    --grid-cols: var(--grid-cols-6);
  }

}

/* ------------------------------------------------------------------------
   Component: Breadcrumb
   ------------------------------------------------------------------------ */

.breadcrumb {
  font-size: var(--text-sm);
}

.breadcrumb__list {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: 0;
  list-style: none;
  margin: 0;
  padding: 0;
}

.breadcrumb__item {
  display: flex;
  align-items: center;
}

/* Add forward slash between items */
.breadcrumb__item+.breadcrumb__item::before {
  content: "/";
  margin: 0 0.5rem;
  color: var(--base-04);
  font-weight: var(--weight-regular);
}

/* Links */
.breadcrumb__link {
  display: inline-flex;
  align-items: center;
  gap: 0.4rem;
  color: var(--primary);
  text-decoration: none;
}

.breadcrumb__link:hover {
  text-decoration: underline;
}

/* Current page */
.breadcrumb__item[aria-current="page"] {
  color: var(--text-02);
  font-weight: 500;
}

/* Current page breadcrumb */
.breadcrumb__item[aria-current="page"] {
  font-weight: var(--weight-bold);
  color: var(--text-strong);
}

/* ==========================================================================
   ##) Content Prose
   ========================================================================== */


.content--prose>*+* {
  margin-top: var(--space-4);
}

.content--prose h1+*,
.content--prose h2+*,
.content--prose h3+* {
  margin-top: var(--space-4);
}

.content--prose h1,
.content--prose h2,
.content--prose h3,
.content--prose h4,
.content--prose h5,
.content--prose h6 {
  margin-top: var(--space-6);
  margin-bottom: var(--space-6);
}

.content--prose h1:first-child,
.content--prose h2:first-child,
.content--prose h3:first-child,
.content--prose h4:first-child,
.content--prose h5:first-child,
.content--prose h6:first-child {
  margin-top: 0;
}

.content--prose li+li {
  margin-top: var(--space-2);
}

.content--prose blockquote {
  margin-top: var(--space-5);
}

.content--prose p {
  line-height: var(--leading-loose);
  font-size: var(--text-lg);
}

.content--prose p:not(:last-of-type) {
  margin-bottom: var(--space-6);
}

.content--prose p:not(:last-of-type):has(+ ul) {
  margin-bottom: var(--space-3);
}

.content--prose ul:has(+ p) {
  margin-bottom: var(--space-3);
}


.content--prose section:not(:first-of-type) {
  padding-top: var(--space-8);
}

.content--prose section:not(:last-of-type) {
  padding-bottom: var(--space-8);
}

.content__figure img {
  margin-bottom: var(--space-2);
  border-radius: var(--radius-xs);
}

.content__figure figcaption {
  font-size: var(--text-sm);
  color: var(--text-muted);
}

.content--prose .grid {
  gap: var(--space-12);
}

.content--prose .content--prose__emphasis {
  font-size: var(--text-md);
    font-weight: var(--weight-medium);
    margin-top: var(--space-4);
}
/* ==========================================================================
   ##) Card
   ========================================================================== */

.card {
  display: flex;
  flex-direction: column;
  height: 100%;
  background-color: #ffffff;
  border: 1px solid #e5e7eb;
  border-radius: 0.5rem;
  overflow: hidden;
  text-decoration: none;
  color: inherit;
}

/* Linked card behaviour */
.card--link {
  cursor: pointer;
  transition: all var(--dur-3) var(--ease-standard);
}

.card--link:hover {
  border-color: #cbd5e1;
}

.card--link:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* Disabled card */
.card--disabled {
  opacity: 0.6;
  pointer-events: none;
}

/* Card header (image) */
.card__header {
  position: relative;
  overflow: hidden;
}

.card__image {
  display: block;
  width: 100%;
  height: auto;
  aspect-ratio: 16 / 9;
  object-fit: cover;
  transition: all var(--dur-3) var(--ease-standard);
}

/*Card body */
.card__body {
  padding: 1rem;
}

.card__title {
  margin: 0;
  font-size: 1.125rem;
  font-weight: 600;
  line-height: 1.3;
}

/* Card footer */
.card__footer {
  margin-bottom: auto;
  padding: 0 1rem 1rem;
  margin-top: -.625rem;
}

.card__meta {
  margin: 0;
  font-size: 0.875rem;
  line-height: 1.4;
  color: #475569;
}

.card--link:hover .card__title {
  text-decoration: none;
  color: var(--text-strong);
}

/* Reduced motion respect */
@media (prefers-reduced-motion: no-preference) {
  .card {
    transition: border-color 0.15s ease, box-shadow 0.15s ease;
  }

  .card--link:hover {
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
    transform: translateY(-1px);
  }

  .card--link:hover .card__image {
    /*transform: scale(1.005);*/
  }
}


/* ------------------------------------------------------------------------
   Component: Table
   ------------------------------------------------------------------------ */

.table {
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  margin-block: 1.5rem;
  font-size: 0.95rem;
  line-height: 1.5;
}

/* Header */
.table thead th {
  text-align: left;
  font-weight: 600;
  padding: 0.75rem 0.75rem;
  border-bottom: 1px solid var(--base-03, #e5e7eb);
  vertical-align: bottom;
}

/* Body cells */
.table tbody th,
.table tbody td {
  padding: 0.75rem 0.75rem;
  border-bottom: 1px solid var(--base-03, #e5e7eb);
  vertical-align: top;
  text-align: start;
}

/* Row headers (first column) */
.table tbody th[scope="row"] {
  font-weight: 500;
  white-space: nowrap;
}

/* Remove last divider */
.table tbody tr:last-child th,
.table tbody tr:last-child td {
  border-bottom: none;
}

/* Optional: subtle row rhythm (very light, structural only) */
.table tbody tr {
  scroll-margin-top: 4rem;
}

/* Improve readability on narrow viewports */
@media (max-width: 640px) {
  .table thead {
    display: none;
  }

  .table tbody tr {
    display: block;
    padding-block: 0.75rem;
    border-bottom: 1px solid var(--base-03, #e5e7eb);
  }

  .table tbody th,
  .table tbody td {
    display: block;
    padding: 0.25rem 0;
    border: none;
  }

  .table tbody th[scope="row"] {
    font-weight: 600;
  }
}



/* ==========================================================================
   ##) Accessibility helpers (core)
   ========================================================================== */

.skip-link {
  position: absolute;
  left: -9999px;
  top: 0;
}

.skip-link:focus {
  left: 0.75rem;
  top: 0.75rem;
  z-index: 1000;
}

.visually-hidden {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}